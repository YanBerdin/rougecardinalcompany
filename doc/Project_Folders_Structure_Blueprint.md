## Project Folders Structure Blueprint

Repository: rougecardinalcompany
Primary technologies detected: Next.js (App Router), React 19, TypeScript, Tailwind CSS, Supabase (Postgres + Storage), Zod

Purpose

- Serve as a single-source guide explaining the repository layout, organization conventions, file placement patterns and templates for adding new features.

1) High-level overview

- App Router pattern under `app/` for pages, layouts and server components.
- Reusable presentation components under `components/` (ui primitives and feature groups).
- Data access layer under `lib/dal/` using server-only modules (Supabase client operations).
- Shared utilities and hooks under `lib/`.
- Supabase-specific code under `lib/` & `supabase/` (client wrappers, server helpers, middleware, schema SQL in `supabase/schemas/`).

2) Key folders (depth: 3)

- `app/`
  - purpose: Next.js App Router pages, metadata and root layout.
  - common contents: `layout.tsx`, `page.tsx`, `globals.css`, `api/` routes.
  - conventions: pages import Smart (server) containers; keep server actions inside `app/` pages or `lib/dal`.

- `components/`
  - purpose: dumb/presentational UI + feature containers.
  - common contents: `ui/` primitives, `features/` grouped by feature (admin, public-site, tutorial), skeletons.
  - conventions: Smart/Dumb pattern — containers under `components/features/*` orchestrate data; `components/ui/*` contains reusable primitives.

- `lib/`
  - purpose: shared utilities, DAL, hooks and typed schemas.
  - common contents: `dal/` (team, presse, spectacles), `hooks/`, `schemas/` (zod), `utils.ts`, `supabase/` wrappers.
  - conventions: server-only DAL modules validate inputs/outputs with Zod; prefer typed return shapes (avoid any).

- `supabase/`
  - purpose: DB schema SQL, RLS policies and Supabase project artifacts.
  - common contents: `schemas/` SQL migration scripts, storage rules, function definitions.

- `components/features/admin/team/`
  - contains admin team management UI and forms (TeamMemberForm, TeamMemberList, TeamManagementContainer).

3) File placement patterns & naming

- Feature-based organization: each `components/features/<feature>` houses UI and small hooks/types for that feature.
- UI primitives: `components/ui/*` holds simple presentational components named in kebab or camel-case filenames matching component names.
- DAL modules: `lib/dal/<resource>.ts` exposes functions: fetchAll, fetchById, create, update, setActive, reorder.
- Zod schemas: `lib/schemas/<resource>.ts` exports schema and types (CreateXInput, UpdateXInput, XDb).
- Supabase types: `lib/database.types.ts` is canonical generated DB typing.

4) Conventions and style

- TypeScript strictness: prefer typed interfaces, avoid `any`; prefer `unknown` in catches and safe extraction.
- ESLint rules: follow `eslint-config-next` and project rules; escape JSX entities (`react/no-unescaped-entities`), use `react-hooks/exhaustive-deps` rules except for debug pages.
- Smart/Dumb components: Server components for data fetching, `use client` only where necessary.

5) Adding a new feature (template)

- Create `components/features/<feature>/` with:
  - `<Feature>Container.tsx` (smart)
  - `<Feature>View.tsx` (dumb)
  - `hooks.ts` (local hooks)
  - `types.ts` (feature types + zod schemas)
- Add DAL in `lib/dal/<feature>.ts` with Zod validation and exported server-only helpers.
- Add page under `app/<feature>/page.tsx` that imports container.

6) Tests and docs

- Place tests next to modules when scoped, or in a `__tests__` folder. Use `tsx` scripts folder for small integration scripts.
- Document feature responsibilities in `components/features/<feature>/README.md` when complex.

7) Build and deployment notes

- Next.js build driven by `next build` script; environment variables live in `.env` files and supabase keys are server-only.
- Supabase migrations located in `supabase/schemas/` and should be applied to the project DB before use.

Appendix: quick ASCII snapshot (top-level)

```
/
├─ app/
├─ components/
│  ├─ features/
│  └─ ui/
├─ doc/
├─ lib/
│  ├─ dal/
│  ├─ schemas/
│  └─ hooks/
├─ supabase/
└─ package.json
```

---
Generated by guided blueprint generator.
