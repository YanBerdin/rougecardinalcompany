# ============================================================================
#* üóÑÔ∏è SUPABASE CONFIGURATION (Required)
# ============================================================================
# Get these from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY=your-anon-key

# Admin operations (user invitation, role management)
# ‚ö†Ô∏è CRITICAL: Never commit to version control!
# Get it from: https://app.supabase.com/project/_/settings/api > Service Role Key
# Used for: Admin operations (user invitation, role management)
# ‚ùå LEGACY FORMAT - Only use if not migrated to JWT Signing Keys
# ‚ùå NEXT_PUBLIC_SUPABASE_ANON_KEY=old_anon_key
# ‚ùå SUPABASE_SERVICE_ROLE_KEY=old_service_role_key
SUPABASE_SECRET_KEY=your-service-role-key

# Site URL (for invitation links)
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# ============================================================================
#* üåê APPLICATION CONFIGURATION (Required)
# ============================================================================
# Site URL (used for invitation links, redirects)
# Development: http://localhost:3000
# Production: https://rougecardinalcompany.fr
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# ============================================================================
# üîê ADMIN SEEDING (Optional - Local Development)
# ============================================================================
# Used by scripts/create-admin-user.ts for local database seeding
# ADMIN SEEDING (for db:seed-admin script)
DEFAULT_ADMIN_EMAIL=admin@rougecardinal.com
#! DEFAULT_ADMIN_PASSWORD=Admin123!

# ============================================================================
# üìß EMAIL CONFIGURATION (Resend - Required)
# ============================================================================
# DEVELOPMENT EMAIL REDIRECT
# When `EMAIL_DEV_REDIRECT` is `true` and you run the app in development,
# invitation emails will be redirected to `EMAIL_DEV_REDIRECT_TO`.
# This is intended for local testing with providers that restrict recipients (eg. Resend test-mode).

# Resend API Key (required for email sending)
RESEND_API_KEY=your_resend_api_key

# Email sender address (must be verified in Resend dashboard)
EMAIL_FROM=noreply@rougecardinalcompany.fr

# Contact email for admin notifications
EMAIL_CONTACT=contact@rougecardinalcompany.fr

# ============================================================================
# üö® DEVELOPMENT EMAIL REDIRECT (DEV ONLY)
# ============================================================================
#
# ‚ö†Ô∏è  CRITICAL WARNING: This feature MUST be disabled in production!
#
# When enabled, ALL invitation emails will be redirected to EMAIL_DEV_REDIRECT_TO
# regardless of the recipient's actual email address.
#
# Purpose: Test invitation flow locally without sending real emails
#
#* Activation requirements: 
# NODE_ENV='development' 
# EMAIL_DEV_REDIRECT='true'
#
# ‚ùå DO NOT enable this in production - it will redirect real user invitations!
# ‚úÖ Safe values for production: 'false', undefined, or omit entirely
#
EMAIL_DEV_REDIRECT=false
EMAIL_DEV_REDIRECT_TO=yandevformation@gmail.com

# ============================================================================
# Deployment Checklist:
# 1. EMAIL_DEV_REDIRECT must be 'false' or undefined
# 2. EMAIL_FROM must be a verified domain in Resend
# 3. RESEND_API_KEY must be production key (not test mode)
# ============================================================================

# ============================================================================
# üß™ TESTING & DEVELOPMENT (Optional)
# ============================================================================
TEST_DB_URL=...
GITHUB_TOKEN=...
CONTEXT7_API_KEY=...

# ============================================================================
# ü§ñ MCP TOOLS & CI/CD (Optional - External tooling only)
# ============================================================================
# These variables are used by MCP Supabase tools and CI/CD pipelines.
# They are NOT required for the Next.js application to run.
# 
# Used by:
# - Claude MCP Supabase tools (database operations via MCP)
# - GitHub Actions workflows (database migrations, testing)
# - Supabase CLI commands in CI/CD
#
# Safe to omit if you're only running the Next.js app locally.

SUPABASE_PROJECT_REF=your-project-ref
SUPABASE_ACCESS_TOKEN=your-access-token

# ============================================================================
# ‚öôÔ∏è ENVIRONMENT (Auto-detected by Next.js)
# ============================================================================
# Values: development | test | production
# Usually set automatically - no need to specify
# NODE_ENV=development

# ============================================================================
# üöÄ DEPLOYMENT CHECKLIST
# ============================================================================
# Before deploying to production, verify:
# 
# ‚úÖ EMAIL_DEV_REDIRECT is 'false' or undefined
# ‚úÖ EMAIL_FROM is a verified domain in Resend
# ‚úÖ RESEND_API_KEY is production key (not test mode)
# ‚úÖ SUPABASE_SECRET_KEY is kept secret (use env vars in hosting platform)
# ‚úÖ NEXT_PUBLIC_SITE_URL points to production domain
# ============================================================================

# ============================================================================
# üîí T3 ENV VALIDATION
# ============================================================================
# T3 Env validates all required variables at build/runtime.
# Missing or invalid variables will cause immediate failure with clear errors.
#
# To skip validation during CI/CD build (not recommended):
# SKIP_ENV_VALIDATION=true
# ============================================================================
